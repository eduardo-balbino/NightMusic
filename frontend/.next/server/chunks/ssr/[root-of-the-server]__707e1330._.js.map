{"version":3,"sources":["../../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../frontend/app/page.tsx","../../../../../frontend/assets/icons/Iconarchive-Fairy-Tale-Dark-Moon.512.png.mjs%20%28structured%20image%20object%20with%20data%20url%29","../../../../../frontend/assets/icons/play-icon.png.mjs%20%28structured%20image%20object%20with%20data%20url%29","../../../../../frontend/assets/icons/pause-icon.png.mjs%20%28structured%20image%20object%20with%20data%20url%29","../../../../../frontend/assets/icons/skip-.png.mjs%20%28structured%20image%20object%20with%20data%20url%29","../../../../../frontend/assets/icons/return-icon.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","'use client';\n\nimport { useEffect, useRef, useState } from 'react';\nimport type { ChangeEvent } from 'react';\nimport logo from '../assets/icons/Iconarchive-Fairy-Tale-Dark-Moon.512.png';\nimport playIcon from '../assets/icons/play-icon.png';\nimport pauseIcon from '../assets/icons/pause-icon.png';\nimport skipIcon from '../assets/icons/skip-.png';\nimport returnIcon from '../assets/icons/return-icon.png';\n\ntype Track = { id: string; name: string; url: string };\n\nexport default function Page(): JSX.Element {\n  const [playlist, setPlaylist] = useState<Track[]>(() => {\n    try {\n      return JSON.parse(localStorage.getItem('playlist') || '[]') as Track[];\n    } catch (e) {\n      return [];\n    }\n  });\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  useEffect(() => {\n    localStorage.setItem('playlist', JSON.stringify(playlist));\n  }, [playlist]);\n\n  useEffect(() => {\n    if (!audioRef.current) return;\n    if (!playlist[currentIndex]) {\n      audioRef.current.src = '';\n      return;\n    }\n\n    audioRef.current.src = playlist[currentIndex].url;\n    if (isPlaying) audioRef.current.play();\n  }, [currentIndex, playlist, isPlaying]);\n\n  const handleFiles = (e: ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || []);\n    if (files.length === 0) return;\n\n    const novas: Track[] = files.map((file) => ({\n      id: crypto.randomUUID(),\n      name: file.name,\n      url: URL.createObjectURL(file),\n    }));\n\n    setPlaylist((prev) => {\n      const next = [...prev, ...novas];\n      if (prev.length === 0 && next.length > 0) {\n        setCurrentIndex(0);\n      }\n      return next;\n    });\n  };\n\n  const play = () => {\n    if (!audioRef.current) return;\n    if (playlist.length === 0) return; // nothing to play\n\n    if (!audioRef.current.src) {\n      audioRef.current.src = playlist[0].url;\n      setCurrentIndex(0);\n    }\n\n    try {\n      audioRef.current.play();\n      setIsPlaying(true);\n    } catch (e) {\n      // Silently ignore play errors (e.g., NotSupportedError) and keep state consistent\n      console.error('Audio play failed:', e);\n      setIsPlaying(false);\n    }\n  };\n\n  const pause = () => {\n    if (!audioRef.current) return;\n    audioRef.current.pause();\n    setIsPlaying(false);\n  };\n\n  const nextTrack = () => {\n    setIsPlaying(false);\n    setCurrentIndex((i) => Math.min(playlist.length - 1, i + 1));\n  };\n\n  const prev = () => {\n    setIsPlaying(false);\n    setCurrentIndex((i) => Math.max(0, i - 1));\n  };\n\n  return (\n    <main className=\"app-root\">\n      <div className=\"app-container\">\n        <img src={logo.src} alt=\"logo\" className=\"logo\" />\n\n        <div className=\"player-card\">\n          {playlist.length === 0 ? (\n            <div className=\"empty-message\">\n              Nenhuma música carregada. Use o botão de arquivo para adicionar músicas.\n            </div>\n          ) : (\n            <ol className=\"playlist\">\n              {playlist.map((m, idx) => (\n                <li key={m.id} className={`playlist-item ${idx === currentIndex ? 'current' : ''}`}>\n                  {m.name}\n                </li>\n              ))}\n            </ol>\n          )}\n        </div>\n      </div>\n\n      <div className=\"file-input-wrapper\">\n        <input\n          id=\"musicas\"\n          type=\"file\"\n          multiple\n          accept=\"audio/*\"\n          onChange={handleFiles}\n          className=\"file-input\"\n        />\n      </div>\n\n      <div className=\"controls-bar\">\n        <button onClick={prev} className=\"control-btn\">\n          <img src={returnIcon.src} alt=\"prev\" className=\"icon-img\" />\n        </button>\n\n        {!isPlaying ? (\n          <button onClick={play} className=\"control-btn\">\n            <img src={playIcon.src} alt=\"play\" className=\"icon-img\" />\n          </button>\n        ) : (\n          <button onClick={pause} className=\"control-btn\">\n            <img src={pauseIcon.src} alt=\"pause\" className=\"icon-img\" />\n          </button>\n        )}\n\n        <button onClick={nextTrack} className=\"control-btn\">\n          <img src={skipIcon.src} alt=\"next\" className=\"icon-img\" />\n        </button>\n      </div>\n\n      <audio ref={audioRef} id=\"audio-player\" />\n    </main>\n  );\n}\n","import src from \"IMAGE\";\nexport default { src, width: 512, height: 512, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABE0lEQVR42gEIAff+AAAAAAEHBwgwGBgcpCIjKuMlJy7lGhsgpQcHCS8AAAABAAcICS8hISjMLjA4/i0yPP8xOEL/Q0xT/igrMcoICQotABwgJ6EsNUD+OkRP/0BLVv8vO0j/T1xk/2JscP4lKCyfACg4RN4vRFL/MUlX/zRMWv81S1j/UWFp/5Wcmv9MT1LdAC1HVN01VmX/Nlpp/zxdav9EYGz/coGE/7m3rf9nZmPcACQ8Rp88ZnX9Q257/01yfv9jfYX/uLiv/7qxpf9XU02lAAsTFSs6XWfBWIWR/GOKlP9qgIX/e359/kNFSNcbGhpUAAAAAAEPFBYkNExSmjFRXOIXMD7jER8opgcKDDMAAAAC5EhjaFfUfacAAAAASUVORK5CYII=\"};\n","import src from \"IMAGE\";\nexport default { src, width: 512, height: 512, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAUElEQVR42oWPuw3AIAxEyRaeJX2abMR67MEKFJQ0cMATJUZ6wrrzN4T9HmHiA0M75iuSqJDQVpIhNJH5O9r0VstZVcQvInHF8xPcEe6S1zMHd1QeV7r79qYAAAAASUVORK5CYII=\"};\n","import src from \"IMAGE\";\nexport default { src, width: 512, height: 512, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAY0lEQVR42oWPqw2AQBBEJ4eDhJ/AIAkdkIDFYJAUQg1URgF0QCFYLu/UuhWT7L6Z7EfbuYfpWNamb++QhQ9Rw/BEkdfFK+m3guGJNKDsqscKljxG0gzzeFnBkucG3BXukd6bEaBaP7X7+WdnAAAAAElFTkSuQmCC\"};\n","import src from \"IMAGE\";\nexport default { src, width: 512, height: 512, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAWElEQVR42oXPyw2AIBCEYWIrW44FUIIlaQ8m9rIlWIAXTx79gQkHQoDku8wOrxDKWmCIYsrqcIXjE1eWS6bgwYtbXLN8ZNp1YcOOU1nsFY62ML1i+sjhN3/yux9G3eTXHgAAAABJRU5ErkJggg==\"};\n","import src from \"IMAGE\";\nexport default { src, width: 512, height: 512, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAUklEQVR42o3PwQ0AEAwFULFKxzGAEaxkB4ldjGAAFydHHz+OSvIuv0VrzDkWBDwJs1t0UGBQYbabhEGlDo3Zqu0n160EEQJkZv6rQf1CHfK55gTy5B9HgtZrnwAAAABJRU5ErkJggg==\"};\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}